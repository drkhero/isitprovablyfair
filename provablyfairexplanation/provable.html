
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main html page</title>
    <link rel="stylesheet" media="(min-width: 1000px)" href="provable.css">
    <link rel="stylesheet" media="(max-width: 999px)" href="mobile2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;700&family=Cutive+Mono&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Raleway:200,100,400" rel="stylesheet" type="text/css" />
</head>
<body>

  <div class="fair">
    <a href="/provablyfairexplanation/provable.html" id="turnoff">Provably Fair & Genesis Hash Explanation</a>

    
    
    <img src="imgs/isitfair.png" id="isitfair">
    <div > <a id="isitfairtext" href="/index.html">IsItProvablyFair</a></div>
    <div id="menuToggle">
        <input type="checkbox" id="none" />
          <span></span>
          <span></span>
          <span></span>
      <ul id="menu">
        <li><a href="/index.html" id="menuitem1">Home</a></li>
        <li><a href="/provablyfairexplanation/provable.html" id="menuitem2">Provably Fair & Genesis Hash Explanation</a></li>
       
        
      </ul>
     </div>
    
    
  </div>

<div class="welcome"> 
<h1>let's talk about 
  <span
     class="txt-rotate"
     data-period="2000"
     data-rotate='["provably fair", "the genesis hash"]'></span>
</h1>

</div>



<div class="parent-container">

    <div class="main">
              
<p id="question">Q. How exactly does the provably fair system work for Bustabit ? </p>


<p>A. It’s actually a lot more simple than it seems. On January 23, 2018, Ryan took a secret password, (e.g: hahasecretseed123), and hashed it 10,000,000 times using the SHA-256 encryption algorithm.</p>

<p>The genesis hash, (known as hash “<span class="green">86728f5fc3bd99db94d3cdaf105d67788194e9701bf95d049ad0e1ee3d004277”</span>) was then created. The “277 hash” represents the last hash on the hash chain created by Ryan. It’s hash #10,000,000.</p>

<p>Now, to ensure that a game is fair, and that it was indeed generated 6 years ago by Ryan, we take the current game we just played (e.g: game ID #8288909), we take the hash for the game, (e.g: 8664911ea8094d603710d553b25760223197560be8456fed598227493c476737) and then we hash it n times - (“n” represents the game ID). Doing so will ensure that the hash inputted is on the same hash chain as the genesis hash. The NodeJs code we use here is quick enough to go through millions of games in only a few seconds to complete the verification.</p>

<p>For instance, if we take the hash of game <span class="green">#8288909</span> and we hash it 8288909 times, the result will indeed be the genesis hash, which is the “277 hash” that was generated by Ryan on January 23, 2018.</p>

<p>If hashing the game hash by the game ID returns the genesis hash, it means the game was <span class="green">fair</span>. If it doesn’t return the genesis hash, then it means the game was <span class="red">altered/rigged.</span></p>

<p>To calculate the game bust, we use a simple Javascript function that uses the NodeJs crypto library to generate strong random numbers, and we also use the salted hash of Bitcoin block 505750 to ensure that Ryan didn’t cherry pick a hash chain that was unfair to players.</p>



<p>Click <a href="https://bitcointalk.org/index.php?topic=2807542.0" target="_blank" id="bitcointalk">here</a> for the Bitcoin Talk thread of Ryan generating the genesis hash, (also known as the “terminating hash”)</p>


      
      </div>


    
    </div> 

    <div class="main2">
        <p class="morecode">Here's the NodeJs code we use to verify if the hash entered matches with the genesis hash:</p>
        <pre class="code">
    <code>
    const express = require('express');
    const cors = require('cors');
    const app = express();
    const port = 3000;
    
    const crypto = require('crypto');
    
    app.use(express.json());
    
    app.use(cors({
        origin: 'http://127.0.0.1:5500' 
    }));
    
    function verifyingGameHash(data, gameID) {
        let hashedSeed = data;
        for (let i = 0; i < gameID; i++) {
            hashedSeed = crypto.createHash('sha256').update(hashedSeed).digest('hex');
        }
        return hashedSeed;
    }
    </code>
        </pre>



        <p class="morecode">Code we use to calculate the game bust which includes the salted hash of Bitcoin Block #505750:</p>
        <pre class="code">
    <code>


const gameResult = (seed, salt) => {
    const nBits = 52; 


    const hmac = crypto.createHmac('sha256', salt);
    hmac.update(Buffer.from(seed, 'hex'));
    seed = hmac.digest('hex');


    seed = seed.slice(0, nBits / 4);
    const r = parseInt(seed, 16);


    let X = r / Math.pow(2, nBits); 


    X = 99 / (1 - X);


    const result = Math.floor(X);
    return Math.max(1, result / 100);
};


const sha256 = (str) => {
    return crypto.createHash('sha256').update(str).digest('hex');
};


const gameBust = (gameHash, numRounds) => {
    let prevHash = null;
    for (let i = 0; i < numRounds; i++) {
        let hash = prevHash ? sha256(String(prevHash)) : gameHash;
        
        let bust = gameResult(hash, '0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526');
        return bust
        prevHash = hash;
    }
};

   

    </code>
        </pre>
    </div>
    




    <!-- <div class="pre">
    <div class="wrapped">Check your 2023 Bustabit Wrapped at bustabitwrapped.com</div>
    </div> -->

<!-- <img src="bablogo.png" id="bablogo"> -->

    <script src="provable.js"></script>
</body>
</html>


